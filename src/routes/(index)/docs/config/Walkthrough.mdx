## How does NvChad work? 

### Understanding the basics

Before getting into the this topic, first you should understand the `vim.tbl_deep_extend` function which is used for merging tables and their values recursively.  
The function `vim.tbl_deep_extend` is normally used to merge 2 tables, and its syntax looks like this: 

```lua
-- table 1
local person = {
    name = "joe",
    age = 19,
}

-- table 2
local someone = {
    name = "siduck",
}

-- "force" will overwrite equal values from the someone table over the person table
local result = vim.tbl_deep_extend("force", person, someone)

-- result : 
{
    name = "siduck", -- as you can see, name has been overwritten
    age = 19,
}
```

<br />
Its usage can even be used in more complex tables. As said, it works recursively, which means that it will apply the same behaviour for nested table values: 

```lua
local person = {
    name = "joe",
    age = 19,
    skills = {"python", "java", "c++"}

    distros_used = {
        ubuntu = "5 years",
        arch = "10 minutes",
        manjaro = "10 years",
    }
}

local someone = {
    name = "siduck",
    skills = {"js", "lua"},

    distros_used = {
       ubuntu = "1 month",
       artix = "2 years"
    }
}

local result = vim.tbl_deep_extend("force", person, someone)
```
<br/>

The resulting table will have merged each property from the tables, and the same for the `skills` and `distros_used` values:

```lua
{
   name = "siduck",
   age = 19

   skills = {"js", "lua"},

   distros_used = {
       ubuntu = "1 month",
       arch = "10 minutes",
       manjaro = "10 years",
       artix = "2 years"
   }
}

-- tbl_deep_extend function merges values recursively, but if there's an array (list), it won't merge the list tables. 

-- Example: the first table has {"python", "java", "c++"} and the second table has {"js","lua"}. Now you might be wondering that it should merge it like this: 
-- { "python", "java", "c++", "lua"}
-- But no! thats wrong, the result will be only {"js","lua"}
```

<br/>
To sum up, `tbl_deep_extend` merges dictonary tables recursively (i.e tables which have `key/value` pair but not lists).

## Config Structure

```lua
├── init.lua ( main init.lua )
│
├── lua
│   │
│   ├── core
│   │   ├── default_config.lua
│   │   ├── mappings.lua
│   │   ├── utils.lua 
│   │   └── init.lua  
│   │
│   ├── plugins
│   │    ├── init.lua 
│   │    └── configs
│   │        ├── cmp.lua
│   │        └── other configs
│   │  
│   │   USER CONFIG  
│   │  
│   ├── custom *
│   │   ├── chadrc.lua -- (overrides default_config)
│   │   ├── init.lua -- (runs in main init.lua file)
│   │   ├── more files, dirs
```
<br/>

- **`init.lua` -** runs everything
- **`core/default_config` -** returns a table for whole nvchad config 
- **`core/mappings` -** default mappings
- **`core/init` -** globals, nvim options, commands, autocmds 
- **`core/utils` -** helpful functions
- The custom dir will contain all the user configuration. `chadrc.lua` and `init.lua` in `custom` are the main files.

![GitHub Logo](/illustrations/config_nutshell.webp)

From now on, whenever we talk about paths, keep in mind that they're relative to the `lua` folder in your `nvim` config (by default it should be `~/.config/nvim/`).

- To extend NvChad, the user should use 2 files in the custom dir (`chadrc.lua` and `init.lua`). It is not recommended to make changes outside the `custom` dir. The main reason is because NvChad provides an utility that will auto-update by basically pulling the changes from git. Any other file outside the `custom` dir will be treated as a change by `git`, meaning that NvChad will not be able to fast-forward the pull.
- The `chadrc` file overrides the `core/default_config.lua` file. In order to know what options can you change, make sure the check the [`default_config.lua`](https://github.com/NvChad/NvChad/blob/v2.0/lua/core/default_config.lua) file.

## Themes

You can see all the themes with the following keymap: `<leader> + th`.

> The `leader` key is the `<space>` in NvChad. 

## Mappings

If you want to know all the keymaps, you can run the following comands in the nvim `Cmd`:

- `Telescope keymaps` 
- `NvCheatsheet`

